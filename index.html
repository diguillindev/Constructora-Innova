<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <!-- Incluir jsPDF desde CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.26/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <title>Sistema de Presupuestos</title>
</head>

<body>
    <div class="container1">
        
        <!-- Contenedor del logo -->
         
    <div class="logo-container">
        <img src="assets/logo-avatar.jpg" alt="Logo de Presupuestos Innovo">
    </div>

        <!-- Botón para exportar a PDF -->
        <button id="crear-presupuesto">Crear Presupuesto</button>
        
        <div class="section">
            <h2>Datos del Cliente</h2>
            <div class="form-group">
                <label for="cliente">Nombre del Cliente:</label>
                <input type="text" id="cliente" placeholder="Ingrese nombre del cliente">
            </div>
            
        </div>

        <div class="section" id="materiales-section" style="display:none;">
            <h2>Agregar Materiales</h2>
            <div class="form-group">
                <label for="tipo">Tipo de Material:</label>
                <input type="text" id="tipo" placeholder="Ej: Pino, Fierro, etc.">
            </div>
            <div class="form-group">
                <label for="medidas">Medidas:</label>
                <input type="text" id="medidas" placeholder="Ej: 1x4, 2x3, etc.">
            </div>
            <div class="form-group">
                <label for="cantidad">Cantidad:</label>
                <input type="number" id="cantidad" placeholder="Cantidad" min="1">
            </div>
            <div class="form-group">
                <label for="precio">Precio Unitario ($):</label>
                <input type="text" id="precio" placeholder="Ej: 5000">
            </div>
            <div class="form-group">
                <label for="ganancia">Porcentaje de Ganancia (%):</label>
                <div class="porcentaje-control">
                    <input type="number" id="ganancia" class="porcentaje-input" placeholder="Ej: 20" min="0" max="100"
                        value="0">
                    <div class="flechas-control">
                        <button class="flecha-btn" id="aumentar-ganancia">▲</button>
                        <button class="flecha-btn" id="disminuir-ganancia">▼</button>
                    </div>
                </div>
            </div>
            <button id="agregar-material">Agregar Material</button>
        </div>

        <div class="section" id="lista-materiales" style="display:none;">
            <h2>Lista de Materiales</h2>
            <table id="tabla-materiales">
                <thead>
                    <tr>
                        <th>Tipo</th>
                        <th>Medidas</th>
                        <th>Cantidad</th>
                        <th>Precio Unitario</th>
                        <th>% Ganancia</th>
                        <th>Precio Total</th>
                        <th>Precio con Ganancia</th>
                        <th>Acción</th>
                    </tr>
                </thead2>
                <tbody id="cuerpo-tabla">
                    <!-- Los materiales se insertarán aquí -->
                </tbody>
            </table>

            <div class="totales">
                <h3>Totales del Presupuesto</h3>
                <p><strong>Valor Neto:</strong> <span id="valor-neto">$0</span></p>
                <p><strong>Valor con Ganancias:</strong> <span id="valor-ganancias">$0</span></p>
                <p><strong>Valor Total (IVA 19%):</strong> <span id="valor-con-iva">$0</span></p>
            </div>
        </div>

        <!-- Contenedor para la vista previa -->
<div id="preview-container" class="preview-container" style="display: none;">
    <div class="preview-header">
        <h1>Presupuesto del Cliente</h1>
    </div>
    <div class="preview-cliente">
        <p><strong>Cliente:</strong> <span id="preview-cliente"></span></p>
        <p><strong>Fecha:</strong> <span id="preview-fecha"></span></p>
    </div>
    <table class="preview-table">
        <thead>
            <tr>
                <th>Tipo</th>
                <th>Medidas</th>
                <th>Cantidad</th>
                <th>Precio Unitario</th>
                <th>% Ganancia</th>
                <th>Precio Total</th>
                <th>Precio con Ganancia</th>
            </tr>
        </thead>
        <tbody id="preview-cuerpo-tabla">
            <!-- Los materiales se insertarán aquí -->
        </tbody>
    </table>
    <div class="preview-totales">
        <p><strong>Valor Neto:</strong> <span id="preview-valor-neto"></span></p>
        <p><strong>Valor con Ganancias:</strong> <span id="preview-valor-ganancias"></span></p>
        <p><strong>Valor Total (IVA 19%):</strong> <span id="preview-valor-con-iva"></span></p>
    </div>
</div>

<!-- Botones para controlar la vista previa -->
<button id="mostrar-preview">Mostrar Vista Previa</button>
<button id="cerrar-preview" style="display: none;">Cerrar Vista Previa</button>
<!-- Botones para exportar en difernetes formatos -->
<button id="exportar-pdf">Exportar a PDF</button>
<button id="exportar-excel">Exportar a Excel</button>
<button id="exportar-google-docs">Exportar a Google Docs (CSV)</button>
    </div>

    <script src="script.js"></script>
    <script src="export.js"></script>
    <script src="export2.js"></script>
        
    
</body>

</html>